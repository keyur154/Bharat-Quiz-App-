<html>
    <head>
        <title>Bharat Quiz App</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/p5.js"></script>
      <script src="https://unpkg.com/ml5@0.4.3/dist/ml5.min.js"></script>

<!--Designing code is below-->

<style type="text/css">

body{
  background: linear-gradient(to bottom left, #fc5c00 0%, white 50%, green 100%);
}

#heading{
  color: blue;
  font-weight: bolder;
  font-style: italic;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  font-variant: inherit;
  font-size: 28px;
  width: 100%;
  box-shadow: 5px 5px 18px grey;
  margin-top: 0;
}

#welcome_heading{
    text-align: center;
    font-weight: bold;
    color: purple;
    padding-right: 10px;
}

#printing_speech{
    line-height: 2;
    text-align: center;
    width: 700px;
    font-weight: bold;
}

.copy_right_footer{
    margin-bottom: 0px;
    line-height: 3;
    width: 100%;
    text-align: center;
    background-color: yellow;
    color: green;
    font-size: 19px;
    font-weight: bold;
}
</style>

    </head>

    <body>
        <center>
            <h1 class="btn btn-default" id="heading" onclick="start_speaking()">Bharat Quiz App</h1>
            <br><br>
            <h3 id="welcome_heading">Click on the Bharat Quiz App button on the top to listen and remember there is a timer for 20 seconds. &#9201;</h3>
            <br><br>
            <button class="btn btn-info" id="btn1" style="margin-right: 60px; font-size: 21px;">20</button>
            <button class="btn btn-success" id="btn2" style="font-size: 21px;">18</button>
            <br><br><br><br><br><br>
            <button class="btn btn-info" id="btn3" style="margin-right: 60px; font-size: 21px;">15</button>
            <button class="btn btn-success" id="btn4" style="font-size: 21px;">25</button>
            <br><br><br>
            <textarea id="printing_speech" class="form-control" readonly="true"></textarea>
            <br><br>
            <button class="btn btn-danger" onclick="start()" style="font-size: 18px;">Start</button>
            <br><br><br><br>
            <button class="btn btn-info" onclick="slide()" style="float: right; font-size: 19px;">View Results</button>
            <br><br><br>
            <div class="copy_right_footer">
                Developed by Keyur Chitrada
             </div>
        </center>

<!--Scripts are written below-->
<script>

var SpeechRecognition=window.webkitSpeechRecognition;

var recognition= new SpeechRecognition();

function start_speaking() {
    var synth=window.speechSynthesis;
    var speak_data="Total number of districts in Arunachal Pradesh";
    var utterThis= new SpeechSynthesisUtterance(speak_data);
    synth.speak(utterThis);
    document.getElementById("welcome_heading").innerHTML="Total number of districts in Arunachal Pradesh &#9201;";

    printing_speech=document.getElementById("printing_speech").value;
    setTimeout(function() {
      if(printing_speech=="") {
        var synth=window.speechSynthesis;
        var speak_data="Your time is out! Click on next question button.";
        var utterThis= new SpeechSynthesisUtterance(speak_data);
        synth.speak(utterThis);
        document.getElementById("welcome_heading").innerHTML="Your time is out! Click on next question button.";
        recognition.stop();
      }
    }, 20000);
}

var btn_click=0;
function start() {
    btn_click=btn_click+1;
    document.getElementById("printing_speech").innerHTML="";
    recognition.start();
    if(btn_click>=2) {
      var synth=window.speechSynthesis;
      var speak_data="There is no second chance.";
      var utterThis= new SpeechSynthesisUtterance(speak_data);
      synth.speak(utterThis);
      document.getElementById("welcome_heading").innerHTML="There is no second chance.";
      recognition.stop();
    }
}

recognition.onresult=function(event) {
  var Content=event.results[0][0].transcript;
  document.getElementById("printing_speech").innerHTML=Content;
  console.log(Content);

  var answer="25";
  localStorage.setItem("RAnswer2", Content);

  if(Content==answer) {
    var synth=window.speechSynthesis;
    var speak_data="Correct Answer! click on view results.";
    var utterThis= new SpeechSynthesisUtterance(speak_data);
    synth.speak(utterThis);
    document.getElementById("welcome_heading").innerHTML="Correct Answer! click on view results.";
  }

  else if(Content!=answer){
    var synth=window.speechSynthesis;
    var speak_data="Wrong Answer! click on view results.";
    var utterThis= new SpeechSynthesisUtterance(speak_data);
    synth.speak(utterThis);
    document.getElementById("welcome_heading").innerHTML="Wrong Answer! click on view results.";
  }
}

function slide() {
    window.location="http://127.0.0.1:5500/Arunachal%20Pradesh/ArunachalPquiz.html";
}
</script>

    </body> 
</html>